#!/bin/bash

# 测试解压的软件是否存在

# 1、*.tar 用 tar –xvf 解压 --> tar -cvf 压缩后的文件名 压缩前文件名
# 2、*.gz 用 gzip -d或者gunzip 解压 --> gzip 压缩前文件名
# 3、*.tar.gz和*.tgz 用 tar –xzf 解压 --> tar -zcf 压缩后的文件名 压缩前文件名
# 4、*.bz2 用 bzip2 -d或者用bunzip2 解压 --> bzip2 -z 压缩前文件名
# 5、*.tar.bz2用tar –xjf 解压 --> tar -jcf 压缩后的文件名 压缩前文件名
# 6、*.Z 用 uncompress 解压 --> compress 压缩前文件名
# 7、*.tar.Z 用tar –xZf 解压 --> tar -Zcf 压缩后的文件名 压缩前文件名
# 8、*.rar 用 unrar e解压 --> rar a 压缩后的文件名 压缩前文件名
# 9、*.zip 用 unzip 解压 --> zip -r 压缩后的文件名 压缩前文件名

binList="tar gzip bzip2 compress xz unrar unzip ls grep wc rm chmod echo"
# gzip -d == gunzip
# bzip2 -d == bunzip2
# compress -d == uncompress
# xz -d == unxz

pathList="/bin /usr/bin /usr/local/bin"

for binary in ${binList}; do
	for path in ${pathList}; do
		bin=${path}/${binary}
		if [ -r ${bin} ]; then
			break
		fi
	done
	# eval "if [ -z \"\$${binary}\" ]; then echo -e \"Please download the following tools to ensure normal use of the software:\n    \033[01;31mtar gzip bzip2 (n)compress xzip unrar unzip\033[0m\"; exit; fi"
	if [ ! -r ${bin} ]; then
		echo -e "Please download the \033[01;31m${binary}\033[0m"
	fi
done

# fileList=("tar" "gzip" "bzip2" "compress" "xz" "unrar" "unzip")
# pathList="/bin /usr/bin /usr/local/bin"

# # 好了, 得到可执行文件的绝对路径
# for ((i=0; i<${#fileList[@]}; i++)); do
# 	for path in ${pathList}; do
# 		if [ -r ${path}/${fileList[i]} ]; then
# 			fileList[i]=${path}/${fileList[i]}
# 			break
# 		fi
# 	done
# done