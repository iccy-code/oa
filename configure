#!/bin/sh

# 测试解压的软件是否存在

# 1、*.tar 用 tar –xvf 解压
# 2、*.gz 用 gzip -d或者gunzip 解压
# 3、*.tar.gz和*.tgz 用 tar –xzf 解压
# 4、*.bz2 用 bzip2 -d或者用bunzip2 解压
# 5、*.tar.bz2用tar –xjf 解压
# 6、*.Z 用 uncompress 解压
# 7、*.tar.Z 用tar –xZf 解压
# 8、*.rar 用 unrar e解压
# 9、*.zip 用 unzip 解压

binList="tar gzip bzip2 compress xz unrar unzip"
# gzip -d == gunzip
# bzip2 -d == bunzip2
# compress -d == uncompress
# xz -d == unxz

pathList="/bin /usr/bin /usr/local/bin"

for binary in ${binList}; do
	for path in ${pathList}; do
		if [ -r ${path}/${binary} ]; then
			eval "${binary}=\"${path}/${binary}\""
			break
		fi
	done
	eval "if [ -z \"\$${binary}\" ]; then echo -e \"Please download the following tools to ensure normal use of the software:\n    \033[01;31mtar gzip bzip2 (n)compress xzip unrar unzip\033[0m\"; exit; fi"
done